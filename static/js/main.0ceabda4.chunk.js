(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c.n(a),o=c(5),s=c.n(o),i=c(3);function u(e){var t=e.onSubmit,c=Object(a.useState)(""),r=Object(i.a)(c,2),o=r[0],s=r[1];return Object(n.jsx)("header",{className:"Searchbar",children:Object(n.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),s("")):alert("Enter text, please")},children:[Object(n.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(n.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(n.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"name",value:o,onChange:function(e){return s(e.target.value.toLowerCase())}})]})})}var l=c(8);var j=function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("19040716-d2ab54626dacf9b7f6f91612a","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){return e.hits}))};function b(e){var t=e.images,c=e.getLargeImageURL;return t.map((function(e){return Object(n.jsx)("li",{className:"ImageGalleryItem",children:Object(n.jsx)("img",{src:e.webformatURL,"data-src":e.largeImageURL,alt:e.tag,className:"ImageGalleryItem-image",onClick:function(e){return c(e.target.dataset.src)}})},e.id)}))}function m(e){var t=e.onClick;return Object(n.jsx)("button",{typ:"button",className:"Button",onClick:t,children:"Load More"})}var d=c(9),h=c(10),O=c(13),f=c(12),g=c(11),p=c.n(g),x=function(e){Object(O.a)(c,e);var t=Object(f.a)(c);function c(){return Object(d.a)(this,c),t.apply(this,arguments)}return Object(h.a)(c,[{key:"render",value:function(){return Object(n.jsx)(p.a,{className:"loader",type:"ThreeDots",color:"plum",secondaryColor:"grey",height:40,width:80})}}]),c}(a.Component);function v(e){var t=e.onClose,c=e.largeImageURL;Object(a.useEffect)((function(){window.addEventListener("keydown",(function(e){"Escape"===e.code&&(console.log("Escape"),t())}))}),[t]);return Object(o.createPortal)(Object(n.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&t()},children:Object(n.jsx)("div",{className:"Modal",children:Object(n.jsx)("a",{href:c,children:Object(n.jsx)("img",{src:c,alt:""})})})}),document.querySelector("#modal-root"))}function y(e){var t=e.searchQuery,c=Object(a.useState)([]),r=Object(i.a)(c,2),o=r[0],s=r[1],u=Object(a.useState)(1),d=Object(i.a)(u,2),h=d[0],O=d[1],f=Object(a.useState)(!1),g=Object(i.a)(f,2),p=g[0],y=g[1],S=Object(a.useState)(""),N=Object(i.a)(S,2),k=N[0],w=N[1],C=Object(a.useState)("idle"),I=Object(i.a)(C,2),L=I[0],E=I[1];return Object(a.useEffect)((function(){O(1)}),[t]),Object(a.useEffect)((function(){""!==t&&(""!==t&&1===h&&(E("pending"),j(t,h).then((function(e){s(e),E("resolved")}))),""!==t&&1!==h&&(E("pending"),j(t,h).then((function(e){s((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e))})),E("resolved")})).finally((function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))))}),[h,t]),"idle"===L?Object(n.jsx)("div",{}):"pending"===L?Object(n.jsxs)("div",{children:[Object(n.jsx)("ul",{className:"ImageGallery",children:o&&Object(n.jsx)(b,{images:o})}),Object(n.jsx)(x,{}),";"]}):"resolved"===L?Object(n.jsxs)("div",{children:[Object(n.jsx)("ul",{className:"ImageGallery",children:Object(n.jsx)(b,{images:o,getLargeImageURL:function(e){y(!p),w(e)}})}),Object(n.jsx)(m,{onClick:function(){return O(h+1)}}),p&&Object(n.jsx)(v,{onClose:function(){return y(!p)},largeImageURL:k})]}):void 0}c(40);function S(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)(u,{onSubmit:function(e){return r(e)}}),Object(n.jsx)(y,{searchQuery:c})]})}s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(S,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.0ceabda4.chunk.js.map