(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),o=n(5),s=n.n(o),i=n(3);function l(e){var t=e.onSubmit,n=Object(c.useState)(""),r=Object(i.a)(n,2),o=r[0],s=r[1];return Object(a.jsx)("header",{className:"Searchbar",children:Object(a.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),s("")):alert("Enter text, please")},children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"name",value:o,onChange:function(e){return s(e.target.value.toLowerCase())}})]})})}var u=n(12);var j=function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("19040716-d2ab54626dacf9b7f6f91612a","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){return e.hits}))};function b(e){var t=e.images,n=e.getLargeImageURL;return t.map((function(e){return Object(a.jsx)("li",{className:"ImageGalleryItem",children:Object(a.jsx)("img",{src:e.webformatURL,"data-src":e.largeImageURL,alt:e.tag,className:"ImageGalleryItem-image",onClick:function(e){return n(e.target.dataset.src)}})},e.id)}))}function d(e){var t=e.onClick;return Object(a.jsx)("button",{typ:"button",className:"Button",onClick:t,children:"Load More"})}var h=n(7),m=n(8),O=n(10),f=n(9),p=n(13),g=n.n(p),v=function(e){Object(O.a)(n,e);var t=Object(f.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(a.jsx)(g.a,{className:"loader",type:"ThreeDots",color:"plum",secondaryColor:"grey",height:40,width:80})}}]),n}(c.Component),x=function(e){Object(O.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handelBackdropClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(a.jsx)("div",{className:"Overlay",onClick:this.handelBackdropClick,children:Object(a.jsx)("div",{className:"Modal",children:Object(a.jsx)("a",{href:this.props.largeImageURL,children:Object(a.jsx)("img",{src:this.props.largeImageURL,alt:""})})})}),document.querySelector("#modal-root"))}}]),n}(c.Component);function y(e){var t=e.searchQuery,n=Object(c.useState)([]),r=Object(i.a)(n,2),o=r[0],s=r[1],l=Object(c.useState)(1),h=Object(i.a)(l,2),m=h[0],O=h[1],f=Object(c.useState)(!1),p=Object(i.a)(f,2),g=p[0],y=p[1],k=Object(c.useState)(""),w=Object(i.a)(k,2),S=w[0],C=w[1],I=Object(c.useState)("idle"),L=Object(i.a)(I,2),N=L[0],E=L[1];return Object(c.useEffect)((function(){O(1)}),[t]),Object(c.useEffect)((function(){""!==t&&(""!==t&&1===m&&(E("pending"),j(t,m).then((function(e){s(e),E("resolved")}))),""!==t&&1!==m&&(E("pending"),j(t,m).then((function(e){s((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e))})),E("resolved")})).finally((function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))))}),[m,t]),"idle"===N?Object(a.jsx)("div",{}):"pending"===N?Object(a.jsxs)("div",{children:[Object(a.jsx)("ul",{className:"ImageGallery",children:o&&Object(a.jsx)(b,{images:o})}),Object(a.jsx)(v,{}),";"]}):"resolved"===N?Object(a.jsxs)("div",{children:[Object(a.jsx)("ul",{className:"ImageGallery",children:Object(a.jsx)(b,{images:o,getLargeImageURL:function(e){y(!y),C(e)}})}),Object(a.jsx)(d,{onClick:function(){return O(m+1)}}),g&&Object(a.jsx)(x,{onClose:function(){return y(!y)},largeImageURL:S})]}):void 0}n(40);function k(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(l,{onSubmit:function(e){return r(e)}}),Object(a.jsx)(y,{searchQuery:n})]})}s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(k,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.77653b84.chunk.js.map